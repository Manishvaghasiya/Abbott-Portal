<div class="card mb-3 top-less">
  <div class="card-body">
    <div class="row align-items-center">
      <div class="col-md-12 d-flex justify-content-end" *ngIf="!progressFlag; else portalDataProgressModel">
        <ul class="list-unstyled d-flex m-0 justify-content-end action-main-links">
          <li (click)="downloadReport();"><a href="javascript:void(0);"><i class="fas fa-download"></i> Download
              Report
            </a></li>
          <li (click)="getPortalDataCheck(true);" [ngClass]="{disabled: disableFlag}"><a href="javascript:void(0);"><i
                class="fas fa-sync-alt"></i>
              Refresh</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>

<div class="card mb-3">
  <div class="card-body">

    <h4 class="card-title" title="view data of distance folder" (click)="redirectToPortal('All', 'Distance')"><span
        class="lstick"></span> Distance Calculator
    </h4>
    <div class="p-3 mb-4 light-bg">
      <div class="table-responsive">
        <table class="table table-bordered">
          <thead>
            <tr>
              <th (click)="redirectToPortal('Archive', 'Distance')">Processed
                Till Now</th>
              <th (click)="redirectToPortal('BotUnprocessedFile', 'Distance')">To be Processed</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>{{reportData?.DISTANCE_ARCHIVE || '0'}}</td>
              <td>{{reportData?.DISTANCE_UNPROCESSED || '0'}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <h4 class="card-title" title="view data of einvoice folder" (click)="redirectToPortal('All', 'Einvoice')"><span
        class="lstick"></span> Reverse Integration
      Einvoice</h4>
    <div class="p-3 mb-4 light-bg">
      <div class="table-responsive">
        <table class="table table-bordered">
          <thead>
            <tr>
              <th (click)="redirectToPortal('Archive', 'Einvoice')">Processed
                Till Now</th>
              <th (click)="redirectToPortal('avsap', 'Einvoice')">avsap</th>
              <th (click)="redirectToPortal('mdsap', 'Einvoice')">mdsap</th>
              <th (click)="redirectToPortal('ienable', 'Einvoice')">ienable</th>
              <th (click)="redirectToPortal('missing', 'Einvoice')">missing</th>
              <!-- <th (click)="redirectToPortal('mismatch', 'Einvoice')">mismatch</th> -->
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>{{reportData?.EINOVOICE_ARCHIVE || '0'}}</td>
              <td>{{reportData?.EINOVOICE_AVSAP || '0'}}</td>
              <td>{{reportData?.EINOVOICE_MDSAP || '0'}}</td>
              <td>{{reportData?.EINOVOICE_IENABLE || '0'}}</td>
              <td>{{reportData?.EINOVOICE_MISSING || '0'}}</td>
              <!-- <td>{{reportData?.EINOVOICE_MISMATCH || '0'}}</td> -->
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <h4 class="card-title" title="view data of ewaybill folder" (click)="redirectToPortal('All', 'Ewaybill')"><span
        class="lstick"></span> Reverse Integration
      EWayBill</h4>
    <div class="p-3 mb-4 light-bg">
      <div class="table-responsive">
        <table class="table table-bordered">
          <thead>
            <tr>
              <th (click)="redirectToPortal('Archive', 'Ewaybill')">Processed Till Now</th>
              <th (click)="redirectToPortal('avsap', 'Ewaybill')">avsap</th>
              <th (click)="redirectToPortal('mdsap', 'Ewaybill')">mdsap</th>
              <th (click)="redirectToPortal('ienable', 'Ewaybill')">ienable</th>
              <th (click)="redirectToPortal('missing', 'Ewaybill')">missing</th>
              <!-- <th (click)="redirectToPortal('mismatch', 'Ewaybill')">mismatch</th> -->
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>{{reportData?.EWAYBILL_ARCHIVE || '0'}}</td>
              <td>{{reportData?.EWAYBILL_AVSAP || '0'}}</td>
              <td>{{reportData?.EWAYBILL_MDSAP || '0'}}</td>
              <td>{{reportData?.EWAYBILL_IENABLE || '0'}}</td>
              <td>{{reportData?.EWAYBILL_MISSING || '0'}}</td>
              <!-- <td>{{reportData?.EWAYBILL_MISMATCH || '0'}}</td> -->
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <h4 class="card-title" title="view data of out folder" (click)="redirectToPortal('All', 'Out')">
      <span class="lstick"></span> Reverse Integration
      Out</h4>
    <div class="p-3 mb-4 light-bg">
      <div class="table-responsive">
        <table class="table table-bordered">
          <thead>
            <tr>
              <th (click)="redirectToPortal('Archive', 'Out')">Processed Till Now</th>
              <th (click)="redirectToPortal('avsap', 'Out')">avsap</th>
              <th (click)="redirectToPortal('mdsap', 'Out')">mdsap</th>
              <th (click)="redirectToPortal('ienable', 'Out')">ienable</th>
              <th (click)="redirectToPortal('missing', 'Out')">missing</th>
              <!-- <th (click)="redirectToPortal('mismatch', 'Out')">mismatch</th> -->
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>{{reportData?.OUT_ARCHIVE || '0'}}</td>
              <td>{{reportData?.OUT_AVSAP || '0'}}</td>
              <td>{{reportData?.OUT_MDSAP || '0'}}</td>
              <td>{{reportData?.OUT_IENABLE || '0'}}</td>
              <td>{{reportData?.OUT_MISSING || '0'}}</td>
              <!-- <td>{{reportData?.OUT_MISMATCH || '0'}}</td> -->
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <h4 class="card-title" title="view data of SFTP folder" (click)="redirectToPortal('All', 'SFTP')">
      <span class="lstick"></span> Files Pending In
      SFTP</h4>
    <div class="p-3 mb-4 light-bg">
      <div class="table-responsive">
        <table class="table table-bordered">
          <thead>
            <tr>
              <th (click)="redirectToPortal('ARCHIVE/BOT', 'SFTP')">Archive/Bot</th>
              <th (click)="redirectToPortal('IN/Bot', 'SFTP')">In/Bot</th>
              <th (click)="redirectToPortal('ARCHIVE/BotResponse', 'SFTP')">Archive/BotResponse</th>
              <th (click)="redirectToPortal('OUT/E-InvoiceDetails', 'SFTP')">Out/E-InvoiceDetails</th>
              <th (click)="redirectToPortal('OUT/EwayBillDetails', 'SFTP')">Out/EwayBillDetails</th>
              <th (click)="redirectToPortal('OUT/avsap', 'SFTP')">avsap</th>
              <th (click)="redirectToPortal('OUT/mdsap', 'SFTP')">mdsap</th>
              <th (click)="redirectToPortal('OUT/ienable', 'SFTP')">ienable</th>
              <!-- <th (click)="redirectToPortal('mismatch', 'SFTP')">mismatch</th> -->
              <th (click)="redirectToPortal('OUT/missing', 'SFTP')">missing</th>
              <th (click)="redirectToPortal('missing size', 'Distance')">distance file size missing</th>
              <th (click)="redirectToPortal('missing size', 'Einvoice')">einvoice file size missing</th>
              <th (click)="redirectToPortal('missing size', 'Ewaybill')">ewaybill file size missing</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>{{reportData?.SFTP_ARCHIVE || '0'}}</td>
              <td>{{reportData?.SFTP_INBOT || '0'}}</td>
              <td>{{reportData?.SFTP_BOT_RESPONSE || '0'}}</td>
              <td>{{reportData?.SFTP_OUT_EINVOICE || '0'}}</td>
              <td>{{reportData?.SFTP_OUT_EWAYBILL || '0'}}</td>
              <td>{{reportData?.SFTP_AVSAP || '0'}}</td>
              <td>{{reportData?.SFTP_MDSAP || '0'}}</td>
              <td>{{reportData?.SFTP_IENABLE || '0'}}</td>
              <!-- <td>{{reportData?.SFTP_MISMATCH || '0'}}</td> -->
              <td>{{reportData?.SFTP_MISSING || '0'}}</td>
              <td>{{reportData?.SFTP_MISSING_DISTANCE_SIZE || '0'}}</td>
              <td>{{reportData?.SFTP_MISSING_EINVOICE_SIZE || '0'}}</td>
              <td>{{reportData?.SFTP_MISSING_EWAYBILL_SIZE || '0'}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

</div>

<ng-template #portalDataProgressModel>
  <div class="aw-common-modal">
    <div class="modal-dialog m-auto">
      <div class="modal-content border-0">
        <div class="modal-body text-center">
          <div class="text-center">
            <i class="fa fa-refresh fa-spin"></i> Data is being updated. Please wait ...
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>